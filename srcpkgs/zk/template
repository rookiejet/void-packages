# Template file for 'zk'
pkgname=zk
version=0.15.1
revision=1
build_style=go
go_import_path=github.com/zk-org/zk
go_build_tags="fts5"
go_ldflags="-X main.Version=${version}"
short_desc="Plain text note-taking assistant"
maintainer="cinerea0 <cinerea0@protonmail.com>"
license="GPL-3.0-or-later"
homepage="https://zk-org.github.io/zk/"
changelog="https://raw.githubusercontent.com/zk-org/zk/main/CHANGELOG.md"
distfiles="https://github.com/zk-org/zk/archive/refs/tags/v${version}.tar.gz"
checksum=1f30aae497476342203b3cecb63edd92faf4d837860a894fdee4b372184e9ec4

post_install() {
	vmkdir usr/share/doc/zk
	for d in docs/*; do
		[ -d "$d" ] || continue
		for f in "$d"/*.md; do
			[ -f "$f" ] || continue
			vinstall "$f" 644 usr/share/doc/zk/"${d#docs/}"
		done
	done
}
